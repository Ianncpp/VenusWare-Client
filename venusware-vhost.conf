# Virtual host configuration for pedophilia.today
# Place this in /etc/lighttpd/conf-available/ and enable with:
# lighttpd-enable-mod venusware-vhost

$HTTP["host"] == "pedophilia.today" || $HTTP["host"] == "www.pedophilia.today" {
    server.document-root = "/var/www/venusware"
    
    # SSL configuration (uncomment when you have SSL certificate)
    # $SERVER["socket"] == ":443" {
    #     ssl.engine = "enable"
    #     ssl.pemfile = "/etc/ssl/certs/pedophilia.today.pem"
    #     ssl.ca-file = "/etc/ssl/certs/ca-bundle.crt"
    # }
    
    # Redirect HTTP to HTTPS (uncomment when SSL is ready)
    # $HTTP["scheme"] == "http" {
    #     url.redirect = ( "^/(.*)" => "https://pedophilia.today/$1" )
    # }
    
    # Custom error pages
    server.error-handler-404 = "/404.html"
    
    # Security headers specific to this domain
    setenv.add-response-header = (
        "Strict-Transport-Security" => "max-age=31536000; includeSubDomains",
        "Content-Security-Policy" => "default-src 'self'; script-src 'self' 'unsafe-inline' cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' cdnjs.cloudflare.com; img-src 'self' data:; media-src 'self'; font-src 'self' cdnjs.cloudflare.com; connect-src 'self'"
    )
    
    # Logging for this domain
    accesslog.filename = "/var/log/lighttpd/pedophilia.today.access.log"
    server.errorlog = "/var/log/lighttpd/pedophilia.today.error.log"
}
